import{a as y}from"./chunk-OAQJ4ZBV.js";import{B as d,D as _,G as p,H as v,I as u,J as o,K as n,O as m,S as r,T as s,Z as f,_ as x,fa as C,m as h,ma as E,w as i,x as g}from"./chunk-UVRWJICT.js";var M=(t,a)=>a.id,b=t=>["/timelines",t];function I(t,a){t&1&&(o(0,"p",3),r(1,"Lade Ereignisse\u2026"),n())}function k(t,a){if(t&1&&(o(0,"p",4),r(1),n()),t&2){let e=m();i(),s(e.error)}}function w(t,a){if(t&1&&(o(0,"a",9),r(1),n()),t&2){let e=m().$implicit;_("routerLink",x(2,b,e.timeline.slug)),i(),s(e.timeline.name)}}function S(t,a){if(t&1&&(o(0,"p"),r(1),n()),t&2){let e=m().$implicit;i(),s(e.description)}}function O(t,a){if(t&1&&(o(0,"div",6)(1,"div",7)(2,"span",8),r(3),n(),d(4,w,2,4,"a",9),n(),o(5,"h3"),r(6),n(),d(7,S,2,1,"p"),n()),t&2){let e=a.$implicit,l=m(2);i(3),s(l.formatDate(e)),i(),p(e.timeline?4:-1),i(2),s(e.title),i(),p(e.description?7:-1)}}function P(t,a){t&1&&(o(0,"p",3),r(1,"Noch keine wichtigen Ereignisse markiert. Markiere in einem Zeitstrahl Ereignisse als \u201Ewichtig\u201C."),n())}function $(t,a){if(t&1&&(o(0,"div",5),v(1,O,8,4,"div",6,M),d(3,P,2,0,"p",3),n()),t&2){let e=m();i(),u(e.events),i(2),p(e.events.length===0?3:-1)}}var L=(()=>{class t{constructor(e){this.api=e,this.events=[],this.loading=!0,this.error=null,this.monthNames=["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]}ngOnInit(){this.load()}load(){this.loading=!0,this.error=null,this.api.getImportantEvents(50).subscribe({next:e=>{this.events=e,this.loading=!1},error:e=>{this.error=e?.error?.error||"Ereignisse konnten nicht geladen werden.",this.loading=!1}})}formatDate(e){let l=e.year<0?` ${Math.abs(e.year)} v. Chr.`:` ${e.year} n. Chr.`;if(e.month!=null&&e.month>=1&&e.month<=12){let c=this.monthNames[e.month-1];return e.day!=null&&e.day>=1&&e.day<=31?`${e.day}. ${c}${l}`:`${c}${l}`}return e.year<0?Math.abs(e.year)+" v. Chr.":e.year+" n. Chr."}static{this.\u0275fac=function(l){return new(l||t)(g(y))}}static{this.\u0275cmp=h({type:t,selectors:[["app-important-events"]],standalone:!0,features:[f],decls:9,vars:1,consts:[[1,"container"],[1,"page-intro"],[1,"subtitle"],[1,"muted"],[1,"error"],[1,"event-list"],[1,"card","event-card"],[1,"event-header"],[1,"year"],[1,"timeline-link",3,"routerLink"]],template:function(l,c){l&1&&(o(0,"div",0)(1,"header",1)(2,"h1"),r(3,"Wichtige Ereignisse"),n(),o(4,"p",2),r(5,"\xDCberblick \xFCber die als wichtig markierten Ereignisse aller Zeitstrahlen."),n()(),d(6,I,2,0,"p",3)(7,k,2,1,"p",4)(8,$,4,1,"div",5),n()),l&2&&(i(6),p(c.loading?6:c.error?7:8))},dependencies:[C,E],styles:[".event-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.event-card[_ngcontent-%COMP%]{max-width:640px;border-left:3px solid var(--accent);transition:box-shadow .2s}.event-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-hover)}.event-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem .75rem;margin-bottom:.5rem}.year[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:var(--accent);letter-spacing:.02em}.timeline-link[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:var(--text-secondary);min-height:var(--touch-min);display:inline-flex;align-items:center;padding:.25rem 0;-webkit-tap-highlight-color:transparent}.timeline-link[_ngcontent-%COMP%]:hover{color:var(--accent)}.event-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .3rem;font-size:1.125rem;font-weight:600;letter-spacing:-.02em}.event-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9375rem;color:var(--text-secondary);line-height:1.5}"]})}}return t})();export{L as ImportantEventsComponent};
